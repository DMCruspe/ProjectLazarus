<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лаборатория</title>
    <link rel="stylesheet" href="style2.css">
    <link rel="stylesheet" href="style-lab.css">
</head>
<body>
    <div class="header">
        <h1 class="page-title">Лаборатория</h1>
        <div class="header-credits">
            <span id="credits">...</span>
        </div>
    </div>
    <div class="container">
        <aside class="left-panel">
            <h2>Навигация</h2>
            <nav>
                <button id="show-symptoms-game-btn" class="nav-button">Узнать симптомы</button>
                <button id="show-spread-game-btn" class="nav-button">Моделирование распространения</button>
                <button id="show-vulnerability-game-btn" class="nav-button">Поиск уязвимостей</button>
                <button id="show-vaccine-game-btn" class="nav-button">Создать вакцину</button>
                <button id="show-identify-type-game-btn" class="nav-button">Определить тип</button>
                <button id="back-to-main" class="nav-button">Назад</button>
            </nav>
        </aside>
        <main class="center-panel lab-panel">
            <h2 id="lab-welcome-message"></h2>

            <div id="symptoms-game-card" class="game-card" style="display: none;">
                <h3>Мини-игра: Исследование симптомов</h3>
                <p>Нажмите "Начать исследование", чтобы провести серию исследований. Ваша задача — найти повторяющиеся симптомы. Их может быть от 2 до 3.</p>
                <div id="game-controls-symptoms">
                    <button id="start-research-btn" class="nav-button">Начать исследование</button>
                </div>
                <div id="research-results-container"></div>
                <div id="user-input-section" style="display: none;">
                    <h4>Введите найденные симптомы:</h4>
                    <div id="symptom-input-fields">
                        <input type="text" class="symptom-input" placeholder="Симптом 1">
                        <input type="text" class="symptom-input" placeholder="Симптом 2">
                        <input type="text" class="symptom-input" placeholder="Симптом 3">
                    </div>
                    <button id="check-symptoms-btn" class="nav-button">Проверить</button>
                </div>
                <div id="game-feedback-symptoms"></div>
                <button id="repeat-research-btn" class="nav-button" style="display: none;">Повторить исследование</button>
            </div>
            
            <div id="spread-game-card" class="game-card" style="display: none;">
                <h3>Мини-игра: Моделирование распространения</h3>
                <p>Исследуйте различные пути передачи, чтобы найти основной способ распространения болезни.</p>
                <div id="spread-game-controls">
                    <label for="spread-path-select">Выберите путь передачи:</label>
                    <select id="spread-path-select">
                        <option value="воздушно-капельный">Воздушно-капельный</option>
                        <option value="контактный">Контактный</option>
                        <option value="через-воду">Через воду</option>
                        <option value="через-пищу">Через пищу</option>
                    </select>
                    <button id="start-spread-research-btn" class="nav-button">Исследовать</button>
                </div>
                <div id="spread-research-results-container"></div>
                <div id="spread-path-confirmation" style="display: none;">
                    <h4>Подтвердите основной путь передачи:</h4>
                    <button id="confirm-spread-path-btn" class="nav-button">Подтвердить</button>
                </div>
                <div id="game-feedback-spread"></div>
                <button id="repeat-spread-research-btn" class="nav-button" style="display: none;">Повторить исследование</button>
            </div>

            <div id="vulnerability-game-card" class="game-card" style="display: none;">
                <h3>Мини-игра: Поиск уязвимостей</h3>
                <p>Выберите фактор и укажите его процентное значение, чтобы определить, к чему вирус уязвим или устойчив.</p>
                
                <div id="vulnerability-game-controls">
                    <label for="vulnerability-factor-select">Выберите фактор для исследования:</label>
                    <select id="vulnerability-factor-select">
                        <option value="влажность">Реакция на влажность</option>
                        <option value="свет">Реакция на свет</option>
                        <option value="радиация">Реакция на радиацию</option>
                        <option value="температура">Реакция на температуру</option>
                    </select>
                    <div id="concentration-input">
                        <label for="factor-percentage">Укажите процент фактора (от 1 до 100):</label>
                        <input type="number" id="factor-percentage" min="1" max="100" value="50">
                    </div>
                    <button id="start-vulnerability-research-btn" class="nav-button">Исследовать</button>
                </div>

                <div id="vulnerability-research-results-container">
                    </div>

                <div id="vulnerability-user-input-section" style="display: none;">
                    <h4>Укажите уязвимые и устойчивые факторы:</h4>
                    <div id="vulnerability-input-fields">
                        <label for="vulnerable-factors">Уязвимые факторы:</label>
                        <input type="text" id="vulnerable-factors" placeholder="Введите через запятую">
                        <label for="resistant-factors">Устойчивые факторы:</label>
                        <input type="text" id="resistant-factors" placeholder="Введите через запятую">
                    </div>
                    <button id="check-vulnerability-btn" class="nav-button">Проверить</button>
                </div>
                
                <div id="game-feedback-vulnerability">
                    </div>
                <button id="repeat-vulnerability-research-btn" class="nav-button" style="display: none;">Повторить</button>
            </div>

            <div id="vaccine-game-card" class="game-card" style="display: none;">
                <h3>Мини-игра: Создание вакцины</h3>
                <p>Выберите два препарата из списка, чтобы объединить их. Ваша цель — создать вакцину, которая полностью уничтожит вирус, при этом её побочные эффекты и доза не должны быть слишком высокими.</p>
                
                <div id="vaccine-game-controls">
                    <h4>Доступные препараты:</h4>
                    <div id="compound-list-container" class="compound-list">
                        </div>
                    
                    <div id="compound-selection-area">
                        <h4>Объединить:</h4>
                        <div id="selected-compounds">
                            <span id="selected-compound-1">Препарат 1</span> + <span id="selected-compound-2">Препарат 2</span>
                        </div>
                        <button id="combine-compounds-btn" class="nav-button">Объединить</button>
                    </div>
                </div>

                <div id="vaccine-research-results-container">
                    </div>
                
                <div id="game-feedback-vaccine">
                    </div>
                <button id="repeat-vaccine-research-btn" class="nav-button" style="display: none;">Начать заново</button>
            </div>

            <div id="identify-type-game-card" class="game-card" style="display: none;">
                <h2>Определи тип болезни</h2>
                <div id="game-content-identify-type">
                    <p>Загрузка...</p>
                </div>
                <button id="next-identify-type-game-btn" class="nav-button" style="display: none;">Следующая игра</button>
            </div>

        </main>
    </div>

    <div class="footer">
        <p>Powered by Follow Me</p>
        <p class="app-version">Version alpha ...</p>
    </div>

    <script src="version.js"></script>
    <script src="script-lab.js"></script>
</body>
</html>